{% extends "pages_client/base.html" %}
{% block title %}Order {{ order.order_id }}{% endblock %}

{% block content %}
<div class="container py-4">

    <!-- Back button -->
    <div class="mb-4">
        <a href="{{ url_for('client.orders') }}" class="btn btn-outline-secondary">
            ← Back to orders
        </a>
    </div>

    <div class="row g-4">

        <!-- Order info -->
        <div class="col-lg-6">
            <div class="card shadow-sm">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Order #{{ order.order_id }}</h5>
                </div>

                <div class="card-body">

                    <!-- Pickup -->
                    <div class="d-flex gap-3 mb-3">
                        <i class="bi bi-geo-alt fs-4 text-muted"></i>
                        <div>
                            <p class="mb-1 fw-semibold">Pickup address</p>
                            <p class="text-muted mb-0">{{ order.pickupAddress }}</p>
                        </div>
                    </div>

                    <!-- Delivery -->
                    <div class="d-flex gap-3 mb-3">
                        <i class="bi bi-geo-alt-fill fs-4 text-muted"></i>
                        <div>
                            <p class="mb-1 fw-semibold">Delivery address</p>
                            <p class="text-muted mb-0">{{ order.deliveryAddress }}</p>
                        </div>
                    </div>

                    <!-- Package -->
                    <div class="d-flex gap-3 mb-3">
                        <i class="bi bi-box-seam fs-4 text-muted"></i>
                        <div>
                            <p class="mb-1 fw-semibold">Package</p>
                            <p class="text-muted mb-0">
                                {{ order.packageDescription }}
                                ({{ order.packageWeight }} kg)
                            </p>
                        </div>
                    </div>

                    <!-- Estimated time -->
                    <div class="d-flex gap-3 mb-3">
                        <i class="bi bi-clock fs-4 text-muted"></i>
                        <div>
                            <p class="mb-1 fw-semibold">Estimated delivery time</p>
                            <p class="text-muted mb-0">{{ order.estimatedDeliveryTime }}</p>
                        </div>
                    </div>

                    {% if order.driverName %}
                        <hr>

                        <!-- Driver -->
                        <div class="d-flex gap-3 mb-3">
                            <i class="bi bi-person fs-4 text-muted"></i>
                            <div>
                                <p class="mb-1 fw-semibold">Driver</p>
                                <p class="text-muted mb-0">{{ order.driverName }}</p>
                            </div>
                        </div>

                        <!-- Vehicle -->
                        <div class="d-flex gap-3 mb-3">
                            <i class="bi bi-truck fs-4 text-muted"></i>
                            <div>
                                <p class="mb-1 fw-semibold">Vehicle</p>
                                <p class="text-muted mb-0">ID: {{ order.vehicleId }}</p>
                            </div>
                        </div>
                    {% endif %}

                    <!-- Price -->
                    <hr>
                    <div>
                        <p class="mb-1 fw-semibold">Total price</p>
                        <p class="fs-3 fw-bold mb-0">
                            €{{ "%.2f"|format(order.price) }}
                        </p>
                    </div>

                </div>
            </div>
        </div>


    </div>
</div>
{% endblock %}
